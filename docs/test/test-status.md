# í…ŒìŠ¤íŠ¸ í˜„í™©

ì´ ë¬¸ì„œëŠ” otu.ai.web í”„ë¡œì íŠ¸ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ í˜„í™©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

## ğŸ“Š ì „ì²´ í˜„í™©

- **í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸**: 31ê°œ (Jest)
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: **171ê°œ** (Jest 171ê°œ í†µê³¼)
- **DB í…ŒìŠ¤íŠ¸** (pgTAP):
    - `get_dynamic_pages_chunk` í•¨ìˆ˜ í…ŒìŠ¤íŠ¸: 9ê°œ
- **í†µí•© í…ŒìŠ¤íŠ¸** (ìì²´ í”„ë ˆì„ì›Œí¬):
    - ë¯¸ë“¤ì›¨ì–´ í†µí•© í…ŒìŠ¤íŠ¸: 3ê°œ
- **í†µê³¼ìœ¨**: 100% âœ… (Jest 171ê°œ + DB 9ê°œ ëª¨ë‘ í†µê³¼)
- **í‰ê·  ì‹¤í–‰ ì‹œê°„**: ~5ì´ˆ (Jest), ~2ì´ˆ (ë¯¸ë“¤ì›¨ì–´)
- **ì‹¤í–‰ ëª…ë ¹ì–´**:
    - `npm test` - Jest í…ŒìŠ¤íŠ¸ ì „ì²´ + DB í…ŒìŠ¤íŠ¸
    - `npm run test:middleware` - ë¯¸ë“¤ì›¨ì–´ í†µí•© í…ŒìŠ¤íŠ¸

## ğŸ—‚ï¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

### 1. í›… í…ŒìŠ¤íŠ¸ (8ê°œ)

**`hooks/useReminderList.test.tsx`**

- ë¦¬ë§ˆì¸ë” ëª©ë¡ ê´€ë¦¬ í›…ì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ í…ŒìŠ¤íŠ¸
- ì´ˆê¸° ë¡œë“œ, í˜ì´ì§€ë„¤ì´ì…˜, ìƒˆë¡œê³ ì¹¨, ì—ëŸ¬ ì²˜ë¦¬ ê²€ì¦
- WatermelonDB observeë¥¼ mock ì²˜ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°„ì„­ ë°©ì§€
- waitFor íƒ€ì„ì•„ì›ƒ 3ì´ˆ ì„¤ì •ìœ¼ë¡œ ë¹„ë™ê¸° íƒ€ì´ë° ì´ìŠˆ í•´ê²°

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:

- ì‚¬ìš©ì ID ê°€ì ¸ì˜¤ê¸° ë° ì´ˆê¸° ë°ì´í„° ë¡œë“œ
- í˜ì´ì§€ë„¤ì´ì…˜ (ë‹¤ìŒ í˜ì´ì§€ ë¡œë“œ ë° ë°ì´í„° ëˆ„ì )
- ìƒˆë¡œê³ ì¹¨ (ì „ì²´ ë°ì´í„° ë¦¬ì…‹ ë° ì¬ë¡œë“œ)
- ì—ëŸ¬ í•¸ë“¤ë§
- ì»¤ìŠ¤í…€ í˜ì´ì§€ í¬ê¸° ì„¤ì •

### 2. API í…ŒìŠ¤íŠ¸ (60+ê°œ)

#### Reminder API (50+ê°œ)

**ìœ„ì¹˜**: `app/api/reminder/renew-alarms/*.test.ts`

í…ŒìŠ¤íŠ¸ íŒŒì¼ë³„ ì—­í• :

- `route.next_alarm_time_update.test.ts` (15+ê°œ)

    - ì•ŒëŒ ì‹œê°„ ê³„ì‚° ë¡œì§ (ìŠ¹ìˆ˜ ê°„ê²©, ìˆ˜ë©´ì‹œê°„ íšŒí”¼)
    - ê³¼ê±° ì•ŒëŒ ì²˜ë¦¬ ë° ë³´ì •
    - ë‹¤ìŒ ì•ŒëŒ ì‹œê°„ ì—…ë°ì´íŠ¸

- `route.reminder_processed_at_concurrency.test.ts` (7ê°œ)

    - ë™ì‹œì„± ì œì–´ (processed_at ë½ ë©”ì»¤ë‹ˆì¦˜)
    - fetch_limitì— ë”°ë¥¸ ë°°ì¹˜ ì²˜ë¦¬
    - ì¢€ë¹„ ë ˆì½”ë“œ êµ¬ì œ (6ì‹œê°„ íƒ€ì„ì•„ì›ƒ)
    - ì—¬ëŸ¬ ì‚¬ìš©ìì˜ ë…ë¦½ì  ì²˜ë¦¬

- `calculate_progressive_interval.test.ts` (5+ê°œ)

    - ì ì§„ì  ê°„ê²© ê³„ì‚° ë¡œì§
    - ìŠ¹ìˆ˜(multiplier) ê¸°ë°˜ ì•ŒëŒ ê°„ê²©
    - ê²½ê³„ê°’ ë° ì—£ì§€ ì¼€ì´ìŠ¤

- `notificationPayload.test.ts` (5+ê°œ)

    - ì•Œë¦¼ í˜ì´ë¡œë“œ ìƒì„± ë° ê²€ì¦
    - ë‹¤êµ­ì–´ ì²˜ë¦¬ (í•œêµ­ì–´/ì˜ì–´)
    - í˜ì´ë¡œë“œ í¬ê¸° ì œí•œ

- `updateNotificationIdsBatch.test.ts` (5+ê°œ)
    - notification ID ë°°ì¹˜ ì—…ë°ì´íŠ¸
    - ìµœì´ˆ ì „ì†¡ ì‹œ ìŠ¤í‚µ ë¡œì§
    - DB ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ ì²˜ë¦¬

#### Sync API (10+ê°œ)

**ìœ„ì¹˜**: `app/api/sync/__tests__/*.test.ts`

- `sync-database.test.ts`

    - WatermelonDBì™€ Supabase ê°„ ë™ê¸°í™”
    - push/pull ë¡œì§ ê²€ì¦
    - ì¶©ëŒ í•´ê²°

- `route.folder-page-order.integration.test.ts`
    - í´ë”-í˜ì´ì§€ ìˆœì„œ í†µí•© í…ŒìŠ¤íŠ¸
    - ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì‹œë‚˜ë¦¬ì˜¤

#### Setting API (5ê°œ)

**ìœ„ì¹˜**: `app/api/setting/withdraw/route.test.ts`

- íšŒì› íƒˆí‡´ API ì „ì²´ í”Œë¡œìš°
- ì‚¬ìš©ì ë°ì´í„° ì‚­ì œ ê²€ì¦
- ê´€ë ¨ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ í™•ì¸

#### Middleware API (3ê°œ) - ìì²´ í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ

**ìœ„ì¹˜**: `test/middleware-webhook-exclusion.test.js`

> **ë¯¸ë“¤ì›¨ì–´ ì œì™¸ ê²€ì¦**: webhook ì—”ë“œí¬ì¸íŠ¸ë“¤ì´ ë¯¸ë“¤ì›¨ì–´ ì²˜ë¦¬ì—ì„œ ì œì™¸ë˜ì—ˆëŠ”ì§€ í™•ì¸

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ ì—¬ë¶€ ê²€ì¦ì„ ìœ„í•œ API ëŒ€ì¡°êµ° í…ŒìŠ¤íŠ¸

**ì‹¤í–‰ ë°©ë²•**:

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ í•„ìˆ˜
npm run dev

# ë³„ë„ í„°ë¯¸ë„ì—ì„œ í…ŒìŠ¤íŠ¸
npm run test:middleware
```

**ê²€ì¦ ë°©ë²•**:

- `x-request-id` í—¤ë” ì¡´ì¬ ì—¬ë¶€ë¡œ ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ ì—¬ë¶€ íŒë‹¨
- ì¼ë°˜ APIëŠ” í—¤ë”ê°€ ìˆì–´ì•¼ í•¨ (ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰)

### 3. í•¨ìˆ˜/ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸ (70+ê°œ)

#### ì‚¬ìš©ëŸ‰ ê´€ë¦¬ (45+ê°œ)

**UsageService ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** (65ê°œ):

- `setQuota.test.ts` (20ê°œ) - ê³¼ê¸ˆ ê³„ì‚°, í•œë„ ì´ˆê³¼, ê²½ê³„ê°’, ë¶€ë™ì†Œìˆ˜ì  ì •í™•ë„
- `updateToSub.test.ts` (10ê°œ) - í”Œëœ ì—…ë°ì´íŠ¸, keepQuota ì˜µì…˜, í•„ë“œ ê²€ì¦
- `resolvePlanStore.test.ts` (10ê°œ) - Stripe/Play/App Store í”Œëœ íŒŒì‹±
- `checkQuota.test.ts` (12ê°œ) - í• ë‹¹ëŸ‰ ì²´í¬, ì´ˆê³¼ ì²˜ë¦¬, ë¦¬ì…‹ ë¡œì§
- `setToFree.test.ts` (7ê°œ) - FREE í”Œëœ ì „í™˜, í•„ë“œ ì´ˆê¸°í™”
- `get.test.ts` (6ê°œ) - ì‚¬ìš©ëŸ‰ ì •ë³´ ì¡°íšŒ, ì—ëŸ¬ ì¼€ì´ìŠ¤

**ìœ„ì¹˜**: `functions/usage/__tests__/*.test.ts`

**í†µí•© í…ŒìŠ¤íŠ¸** (5ê°œ):

- `test/usage-service.integration.test.ts` - ì‹¤ì œ DB ì—°ë™ ì‚¬ìš©ëŸ‰ í• ë‹¹ëŸ‰ ê²€ì¦
- ë¬´ë£Œ/ìœ ë£Œ í”Œëœë³„ í•œë„ ì´ˆê³¼ ì‹œë‚˜ë¦¬ì˜¤
- increment_quota RPC í•¨ìˆ˜ ê²€ì¦

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì •ì˜**:

- `test/usage-quota.case.ts` - 6ê°œ ì‹œë‚˜ë¦¬ì˜¤ (1ê°œ ìŠ¤í‚µ)

#### WatermelonDB (5ê°œ)

- `watermelondb/sync.test.ts`
    - ë¡œì»¬ DB ë™ê¸°í™” ë¡œì§
    - ì˜¤í”„ë¼ì¸ ë°ì´í„° ì²˜ë¦¬
    - ë³€ê²½ì‚¬í•­ ì¶”ì 

## ğŸ”§ í…ŒìŠ¤íŠ¸ í™˜ê²½

### ì„¤ì • íŒŒì¼

- `jest.config.js` - Jest ì„¤ì • (íƒ€ì„ì•„ì›ƒ 30ì´ˆ, jsdom í™˜ê²½)
- `jest.setup.js` - í™˜ê²½ ë³€ìˆ˜ ë° polyfill ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

í…ŒìŠ¤íŠ¸ìš© í™˜ê²½ ë³€ìˆ˜ëŠ” `jest.setup.js`ì—ì„œ ìë™ ì„¤ì •:

- `NEXT_PUBLIC_SUPABASE_URL`: ë¡œì»¬ Supabase (localhost:54321)
- `NEXT_PUBLIC_PUSH_SERVICE_APP_ID`: test-app-id
- `CRON_SECRET`: test-cron-secret

### Mock ì „ëµ

- **Supabase**: E2E í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ë¡œì»¬ Supabase ì‚¬ìš©, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” mock
- **í‘¸ì‹œ ì„œë¹„ìŠ¤**: ì „ì²´ mock (fetch ì˜¤ë²„ë¼ì´ë“œ)
- **WatermelonDB**: observe ë¡œì§ì€ mock ì²˜ë¦¬, ë‚˜ë¨¸ì§€ëŠ” ì‹¤ì œ êµ¬í˜„ ì‚¬ìš©

## ğŸ” ë””ë²„ê¹… ë° ë¡œê¹…

### Debug ë¡œê±° ì‹œìŠ¤í…œ

í”„ë¡œì íŠ¸ëŠ” [debug](https://www.npmjs.com/package/debug) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´í…Œê³ ë¦¬ë³„ ë¡œê¹…ì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œê±°

- `alarm` - ì•ŒëŒ ê´€ë ¨ ë¡œê·¸
- `sync` - ë™ê¸°í™” ê´€ë ¨ ë¡œê·¸
- `usage` - ì‚¬ìš©ëŸ‰ ì¶”ì  ë¡œê·¸
- `test` - í…ŒìŠ¤íŠ¸ ê´€ë ¨ ë¡œê·¸
- `editor` - ì—ë””í„° ê´€ë ¨ ë¡œê·¸
- ê¸°íƒ€ 45ê°œ ì´ìƒì˜ ì¹´í…Œê³ ë¦¬ (`/debug` ë””ë ‰í† ë¦¬ ì°¸ì¡°)

### í…ŒìŠ¤íŠ¸ ì‹œ ë¡œê±° í™œì„±í™” ë°©ë²•

ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” ë¡œê·¸ ì¶œë ¥ì´ ì–µì œë©ë‹ˆë‹¤ (Jest `--silent` ì˜µì…˜ ì‚¬ìš©):

```bash
npm run test  # ëª¨ë“  console ì¶œë ¥ ì–µì œ
```

íŠ¹ì • ì¹´í…Œê³ ë¦¬ì˜ ë¡œê·¸ë§Œ í™œì„±í™”í•˜ë ¤ë©´ `--debug` í”Œë˜ê·¸ ì‚¬ìš©:

```bash
# ë‹¨ì¼ ì¹´í…Œê³ ë¦¬
npm run test -- --debug alarm    # alarm ë¡œê·¸ë§Œ ì¶œë ¥
npm run test -- --debug sync     # sync ë¡œê·¸ë§Œ ì¶œë ¥
npm run test -- --debug usage    # usage ë¡œê·¸ë§Œ ì¶œë ¥

# ì—¬ëŸ¬ ì¹´í…Œê³ ë¦¬ ì¡°í•© (debug ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ë²•)
npm run test -- --debug "alarm,sync"     # alarmê³¼ sync ë¡œê·¸ ì¶œë ¥
npm run test -- --debug "alarm:*"        # alarm ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ëª¨ë“  ë¡œê·¸
npm run test -- --debug "*"              # ëª¨ë“  ë¡œê·¸ ì¶œë ¥

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©
npm run test -- --debug alarm app/api/reminder/renew-alarms/route.test.ts
```

### ê°œë°œ ì¤‘ ë¡œê±° í™œì„±í™”

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ ì‹œ
DEBUG=alarm,sync,editor npm run dev

# ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ (í´ë¼ì´ì–¸íŠ¸ ë¡œê·¸)
localStorage.debug = 'alarm,sync'
```

### ë¡œê±° êµ¬í˜„

ëª¨ë“  ë¡œê±°ëŠ” `/debug` ë””ë ‰í† ë¦¬ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, [debug](https://www.npmjs.com/package/debug) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê° ë¡œê±°ëŠ” `console.log.bind(console)`ë¡œ ë°”ì¸ë”©ë˜ì–´ ìƒ‰ìƒê³¼ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í¬í•¨í•œ í¬ë§·íŒ…ëœ ì¶œë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

ì˜ˆì‹œ:

```typescript
import { alarmLogger } from '@/debug/alarm';

alarmLogger('ì•ŒëŒ ê°±ì‹  ìš”ì²­ ìˆ˜ì‹ ', { requestId, timestamp });
// ì¶œë ¥: 2024-10-24T12:00:00.000Z alarm ì•ŒëŒ ê°±ì‹  ìš”ì²­ ìˆ˜ì‹  { requestId: 'xxx', timestamp: '...' }
```

#### ë¡œê±° íŒŒì¼ êµ¬ì¡°

```typescript
//@ts-ignore
import debug from 'debug';
export const alarmLogger = debug('alarm');
alarmLogger.log = console.log.bind(console);
```

`.log = console.log.bind(console)` ì„¤ì •ì€ ì™¸ë¶€ ë””ë²„ê¹… íˆ´(ì˜ˆ: VS Codeì˜ debug console)ì—ì„œ ìƒ‰ìƒ ë° í¬ë§·íŒ… ì§€ì›ì„ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤.

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì „ëµ

### í†µí•© í…ŒìŠ¤íŠ¸ (E2E)

- API í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ë¡œì»¬ Supabaseì™€ ì—°ë™
- ì „ì²´ ìš”ì²­/ì‘ë‹µ ì‚¬ì´í´ ê²€ì¦
- DB ìƒíƒœ ë³€ê²½ í™•ì¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

- í›…ê³¼ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
- í•„ìš”í•œ ëª¨ë“ˆë§Œ mock ì²˜ë¦¬
- ìˆœìˆ˜ í•¨ìˆ˜ ë¡œì§ ê²€ì¦

### ë™ì‹œì„± í…ŒìŠ¤íŠ¸

- Promise.allë¡œ ë™ì‹œ ìš”ì²­ ì‹œë®¬ë ˆì´ì…˜
- DB ë½ ë©”ì»¤ë‹ˆì¦˜ ê²€ì¦ (processed_at ê¸°ë°˜)
- ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€ í™•ì¸

## âš ï¸ ì£¼ì˜ì‚¬í•­

### WatermelonDB í›… í…ŒìŠ¤íŠ¸

- observe ë¡œì§ì´ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆìŒ
- ë°˜ë“œì‹œ WatermelonDB mock ì¶”ê°€ í•„ìš”
- ì°¸ê³ : `hooks/useReminderList.test.tsx:19-34`

### íƒ€ì„ì•„ì›ƒ ì„¤ì •

- ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ëŠ” ëª…ì‹œì  íƒ€ì„ì•„ì›ƒ ì„¤ì • ê¶Œì¥ (3ì´ˆ ì´ìƒ)
- ê¸°ë³¸ 1ì´ˆëŠ” ë¡œì»¬ Supabase ì—°ë™ ì‹œ ë¶€ì¡±í•  ìˆ˜ ìˆìŒ

### ë™ì‹œì„± í…ŒìŠ¤íŠ¸

- processed_at ë½ ë©”ì»¤ë‹ˆì¦˜ ì˜ì¡´
- í…ŒìŠ¤íŠ¸ ê°„ ê°„ì„­ ë°©ì§€ë¥¼ ìœ„í•´ `--runInBand`ë¡œ ì‹¤í–‰

### í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬

- E2E í…ŒìŠ¤íŠ¸ëŠ” ë°˜ë“œì‹œ try-finallyë¡œ cleanup ë³´ì¥
- í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œì—ë„ ë°ì´í„° ì •ë¦¬ë˜ë„ë¡ êµ¬í˜„

## ğŸ“ˆ ìµœê·¼ ê°œì„  ì‚¬í•­

### 2025-11-11: ì‚¬ìš©ëŸ‰ í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€ âœ…

**ì¶”ê°€ëœ í…ŒìŠ¤íŠ¸**: 5ê°œ (1ê°œ ìŠ¤í‚µ)

**ëª©ì **: UsageServiceì™€ Supabase increment_quota RPC í•¨ìˆ˜ì˜ ì‹¤ì œ ì—°ë™ ê²€ì¦

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:

- ë¬´ë£Œ í”Œëœ í•œë„ ì´í•˜/ì´ˆê³¼ ì‹œë‚˜ë¦¬ì˜¤
- ìœ ë£Œ í”Œëœ í•œë„ ì´í•˜/ì´ˆê³¼ ì‹œë‚˜ë¦¬ì˜¤
- í”Œëœ ì—…ê·¸ë ˆì´ë“œ ì¤‘ í•œë„ ì´ˆê³¼ (ìŠ¤í‚µ)

**íš¨ê³¼**:

- âœ… ì‹¤ì œ DB í™˜ê²½ì—ì„œ ì‚¬ìš©ëŸ‰ ë¡œì§ ê²€ì¦
- âœ… increment_quota RPC í•¨ìˆ˜ ë™ì‘ í™•ì¸
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ê· í˜•

**ê´€ë ¨ íŒŒì¼**:

- `test/usage-service.integration.test.ts` - Jest í†µí•© í…ŒìŠ¤íŠ¸
- `test/usage-quota.case.ts` - í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì •ì˜

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ë°©í–¥

- ë‚˜ë¨¸ì§€ UsageService ë©”ì„œë“œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (refreshSub, setToCancel ë“±)
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì¸¡ì • ì„¤ì •
- CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
- Playwrightë¥¼ í™œìš©í•œ ë¸Œë¼ìš°ì € E2E í…ŒìŠ¤íŠ¸ ì¶”ê°€
- í…ŒìŠ¤íŠ¸ ì„±ëŠ¥ ìµœì í™” (ë³‘ë ¬ ì‹¤í–‰)

## ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´ ìš”ì•½

```bash
# ê¸°ë³¸ í…ŒìŠ¤íŠ¸ (ë¡œê·¸ ì—†ìŒ)
npm run test

# íŠ¹ì • ë¡œê±° í™œì„±í™”
npm run test -- --debug alarm        # alarm ë¡œê·¸ë§Œ
npm run test -- --debug sync         # sync ë¡œê·¸ë§Œ
npm run test -- --debug usage        # usage ë¡œê·¸ë§Œ
npm run test -- --debug "*"          # ëª¨ë“  ë¡œê·¸

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‹¤í–‰
npm run test -- app/api/reminder/renew-alarms/route.test.ts
npm run test -- --debug alarm app/api/reminder/renew-alarms/route.test.ts

# E2E í…ŒìŠ¤íŠ¸
npm run test:e2e
npm run test:e2e:cron

# ë¯¸ë“¤ì›¨ì–´ í†µí•© í…ŒìŠ¤íŠ¸ (ê°œë°œ ì„œë²„ ì‹¤í–‰ í•„ìˆ˜)
npm run test:middleware

# Watch ëª¨ë“œ (Jest)
npm run test -- --watch

# íŠ¹ì • íŒŒì¼ë§Œ watch
npm run test -- --watch app/api/reminder/renew-alarms/route.test.ts
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-30
**í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬**: Jest 30.0.4 (âš ï¸ VitestëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)

**ê´€ë ¨ ë¬¸ì„œ**: [CLAUDE.md](../../CLAUDE.md)
